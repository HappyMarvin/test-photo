{"version":3,"sources":["components/api.js","components/Users/Users.js","components/AlbumsItem/AlbumsItem.js","images/default-thumbnail.png","components/User/User.js","components/PhotosItem/PhotosItem.js","components/PopupSwitchButton/PopupSwitchButton.js","components/PopupWithPhoto/PopupWithPhoto.js","components/Album/Album.js","components/Header/Header.js","components/Footer/Footer.js","components/App/App.js","index.js"],"names":["api","this","_baseUrl","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","userId","id","albumId","Users","useState","users","setUsers","useEffect","getUsers","catch","e","console","error","message","className","map","user","to","name","AlbumsItem","album","thumbnailUrl","photos","setPhotos","getPhotos","title","length","slice","src","User","props","setUser","albums","setAlbums","getUser","match","params","getAlbums","PhotosItem","photo","onPhotoClick","index","onClick","bind","PopupSwitchButton","isRight","onSwitchPhoto","PopupWithPhoto","onClose","isOpen","photosSize","handleEscapeClose","event","key","document","addEventListener","removeEventListener","target","classList","contains","url","alt","type","aria-label","Album","setAlbum","photoForPopup","setPhotoForPopup","popupIsOpen","setPopupIsOpen","indexForPopup","setIndexForPopup","getAlbum","handlePhotoClick","setTimeout","log","Header","Footer","href","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8ef94e45.chunk.js","sourcesContent":["class Api {\n  constructor() {\n    this._baseUrl = 'https://jsonplaceholder.typicode.com/';\n  }\n\n  _getResponseData(res) {\n    if (res.ok) return res.json()\n    return Promise.reject(new Error(`Ошибка: ${res.status}`))\n  }\n\n  getUsers() {\n    return fetch(`${this._baseUrl}users`, {\n    })\n      .then(this._getResponseData)\n  }\n\n  getUser(userId) {\n    return fetch(`${this._baseUrl}users/${userId}`, {\n    })\n      .then(this._getResponseData)\n  }\n\n  getAlbums(userId) {\n    return fetch(`${this._baseUrl}albums?userId=${userId}`, {\n    })\n      .then(this._getResponseData)\n  }\n  getAlbum(id) {\n    return fetch(`${this._baseUrl}albums/${id}`, {\n    })\n      .then(this._getResponseData)\n  }\n\n  getPhotos(albumId) {\n    return fetch(`${this._baseUrl}photos?albumId=${albumId}`, {\n    })\n      .then(this._getResponseData)\n  }\n}\n\nconst api = new Api();\nexport default api;","import {useEffect, useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport api from \"../api\";\nimport \"./Users.css\"\n\nfunction Users() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    api.getUsers()\n      .then(setUsers)\n      .catch(e => console.error(e.message));\n  }, [])\n\n  return (\n    <>\n      <h1 className=\"users__title\">Список пользователей</h1>\n      <ul className=\"users__list\">\n        {users.map(user => (\n          <li className=\"users__item\">\n            <Link className=\"users__link\" to={`user/${user.id}`} key={user.id}>\n              {user.name}\n            </ Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  )\n}\n\nexport default Users","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api\";\nimport defaultThumbnail from \"../../images/default-thumbnail.png\"\nimport \"./AlbumsItem.css\"\n\nfunction AlbumsItem ({ album }) {\n\n  const [photos, setPhotos] = useState([{\n    thumbnailUrl: defaultThumbnail\n  }]);\n\n  useEffect(() => {\n    api.getPhotos(album.id)\n      .then(setPhotos)\n      .catch(e => console.error(e.message));\n  }, [])\n  return (\n    <li className=\"albums-item\">\n      <Link className=\"albums-item__link\" to={`../album/${album.id}`}>\n        <h2 className=\"albums-item__title\">{album.title.length > 43 ? album.title.slice(0, 40) + '...' : album.title}</h2>\n          <img className=\"albums-item__image\" src={photos[0].thumbnailUrl} />\n        <p className=\"albums-item__num\">Фото в альбоме: {photos.length}</p>\n      </Link>\n    </li>\n  )\n}\n\nexport default AlbumsItem","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAG1BMVEUiVuOWlpZqfrJNbsYwXtk/Zs9cdrx5hqmHjp9wLQ4jAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABAElEQVRoge3SMW+DMBiE4YsxJqMJtHOTITPeOsLQnaodGImEUMZEkZhRUqn92f0MaTubtfeMh/QGHANEREREREREREREtIJJ0xbH299kp8l8FaGtLdTQ19HjofxZlJ0m1+eBKZcikd9PWtXC5DoDotRO04B9YOvFIXmXLy2jEbiqE6Df7DTleA5socLqvEFVxtJyrpZFWz/pHM2CVte0lS8g2eDe6prOyqPglhzROL+Xye4tmT4WvRcQ2/m81p+/rdguOi8Hc5L/8Qk4vhZzy08DduGt9eVQyP2qoTM1zi0/uf4hvBWf5c77e69Gf798y08L7j0RERERERERERH9P99ZpSVRivB/rgAAAABJRU5ErkJggg==\"","import { useEffect, useState } from \"react\";\nimport api from \"../api\";\nimport AlbumsItem from \"../AlbumsItem/AlbumsItem\";\nimport \"./User.css\"\nimport {Link} from \"react-router-dom\";\n\nfunction User(props) {\n  const [user, setUser] = useState({});\n  const [albums, setAlbums] = useState([]);\n\n  useEffect(() => {\n    api.getUser(props.match.params.id)\n      .then(setUser)\n      .catch(e => console.error(e.message));\n    api.getAlbums(props.match.params.id)\n      .then(setAlbums)\n      .catch(e => console.error(e.message));\n  }, [])\n\n  return (\n    <>\n      <Link to=\"../\" className=\"back-link\" >&#8656; Вернуться к списку пользователей</Link>\n      <h1 className=\"user__title\">Альбомы пользователя {user.name}</h1>\n      <ul className=\"user__list\">\n        {albums.map(album => <AlbumsItem album={album} key={album.id} />)}\n      </ul>\n    </>\n  )\n}\nexport default User","import \"./PhotosItem.css\"\n\nfunction PhotosItem({ photo, onPhotoClick, index }) {\n  return (\n    <li className=\"photos-item\">\n      <h2 className=\"photos-item__title\">{photo.title.length > 43 ? photo.title.slice(0, 40) + '...' : photo.title}</h2>\n      <img src={photo.thumbnailUrl} onClick={onPhotoClick.bind(null, photo, index)} />\n    </li>\n  )\n}\n\nexport default PhotosItem","\nimport './PopupSwitchButton.css';\n\nfunction PopupSwitchButton ({ isRight, onSwitchPhoto }) {\n  return (\n    <button className={`popup__switch ${isRight ? 'popup__switch_right' : 'popup__switch_left'}`} onClick={onSwitchPhoto} >\n      {isRight ? <>&#129046;</> : <>&#129044;</>}\n    </button>\n  )\n}\n\nexport default PopupSwitchButton","import './PopupWithPhoto.css';\nimport { useEffect, useState } from \"react\";\nimport PopupSwitchButton from \"../PopupSwitchButton/PopupSwitchButton\"\n\nfunction PopupWithPhoto ({ photo, onClose, isOpen, onSwitchPhoto, photosSize, index }) {\n  useEffect(() => {\n    if (!photo) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [photo, onClose]);\n\n  return (\n    <section \n      className={`popup ${isOpen ? 'popup_show' : ''}`}\n      onClick={e => e.target.classList.contains('popup') && onClose()}\n    >\n      <div className=\"popup__container\">\n        <img src={photo ? photo.url : '#'} alt=\"Фото\" className=\"popup__image\" />\n        <h2 className=\"popup__image-title\">{isOpen ? photo.title : ''}</h2>\n        <button \n          className=\"popup__close popup__close_image\" \n          type=\"button\" \n          aria-label=\"Закрыть фото\"\n          onClick={onClose}\n        />\n        {index < (photosSize - 1) && <PopupSwitchButton isRight={true} onSwitchPhoto={onSwitchPhoto.bind(null, true)} />}\n        {index > 0 && <PopupSwitchButton isRight={false} onSwitchPhoto={onSwitchPhoto.bind(null, false)} />}\n      </div>\n    </section>\n  )\n}\n\nexport default PopupWithPhoto","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api\";\nimport PhotosItem from \"../PhotosItem/PhotosItem\";\nimport PopupWithPhoto from \"../PopupWithPhoto/PopupWithPhoto\";\nimport \"./Album.css\";\n\nfunction Album (props) {\n  const [album, setAlbum] = useState({\n    title: ''\n  });\n  const [photos, setPhotos] = useState([])\n  const [photoForPopup, setPhotoForPopup] = useState({});\n  const [popupIsOpen, setPopupIsOpen] = useState(false);\n  const [indexForPopup, setIndexForPopup] = useState(0);\n\n  useEffect(() => {\n    api.getAlbum(props.match.params.id)\n      .then(setAlbum)\n      .catch(e => console.error(e.message));\n    api.getPhotos(props.match.params.id)\n      .then(setPhotos)\n      .catch(e => console.error(e.message));\n  }, [])\n\n  const handlePhotoClick = (photo, index) => {\n    setPhotoForPopup(photo);\n    setPopupIsOpen(true);\n    setIndexForPopup(index);\n  }\n\n  const closePopup = () => {\n    setPopupIsOpen(false);\n    setTimeout(()=>{\n      setPhotoForPopup({})\n    }, 300)\n  }\n\n  const handleSwitchPhoto = (isRight) => {\n    console.log(isRight);\n    const direction = isRight ? 1 : -1\n    setPhotoForPopup(photos[isRight ? indexForPopup + 1 : indexForPopup - 1])\n    setIndexForPopup(isRight ? indexForPopup  + 1 : indexForPopup - 1)\n    console.log('test');\n  }\n\n  return (\n    <>\n      <Link to={`../user/${album.userId}`} className=\"back-link\" >&#8656; Вернуться к списку альбомов</Link>\n      <h1 className=\"album__title\">{album.title}</h1>\n      <ul className=\"album__list\">\n      {photos.map((photo, index) =>\n      <PhotosItem \n        photo={photo}\n        key={photo.id}\n        onPhotoClick={handlePhotoClick}\n        index={index}\n      />\n      )}\n      </ul>\n      <PopupWithPhoto\n        photo={photoForPopup}\n        onClose={closePopup}\n        isOpen={popupIsOpen}\n        photosSize={photos.length}\n        index={indexForPopup}\n        onSwitchPhoto={handleSwitchPhoto}\n      />\n    </>\n  )\n};\n\nexport default Album","import \"./Header.css\"\n\nfunction Header () {\n  return(\n    <header className=\"header\">\n      <p className=\"header__title\">Тестовая работа соискателя на должность Web developer</p>\n      <p className=\"header__author\">Выполнил: Владимир Сорокин</p>\n    </header>\n  )\n}\n\nexport default Header","import \"./Footer.css\"\n\nfunction Footer () {\n  return(\n    <footer className=\"footer\">\n        <p className=\"footer__hh\">Ссылка на hh.ru:&ensp;\n           <a href=\"https://spb.hh.ru/resume/9a7e85a9ff08a276560039ed1f32426c6c544f\" className=\"footer__link\">\n            Владимир Сорокин\n          </a>\n        </p>\n        <p className=\"footer__mail\">iHappyMarvin@yandex.ru</p>\n    </footer>\n  )\n}\n\nexport default Footer","import { useEffect, useState } from \"react\";\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Users from \"../Users/Users\";\nimport User from \"../User/User\";\nimport Album from \"../Album/Album\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\"\n\n\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <div className=\"main\">\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/user/:id\" component={User} />\n            <Route exact path=\"/album/:id\" component={Album} />\n            <Route exact path=\"/\" component={Users} />\n          </Switch>\n        </BrowserRouter>\n      </div>\n      <Footer />\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}