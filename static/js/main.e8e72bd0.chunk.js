(this["webpackJsonptest-photo"]=this["webpackJsonptest-photo"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(16),i=c.n(a),o=(c(24),c(2)),r=(c(25),c(4)),l=c(8),u=c(17),h=c(18),j=new(function(){function e(){Object(u.a)(this,e),this._baseUrl="https://jsonplaceholder.typicode.com/"}return Object(h.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"getUsers",value:function(){return fetch("".concat(this._baseUrl,"users"),{}).then(this._getResponseData)}},{key:"getUser",value:function(e){return fetch("".concat(this._baseUrl,"users/").concat(e),{}).then(this._getResponseData)}},{key:"getAlbums",value:function(e){return fetch("".concat(this._baseUrl,"albums?userId=").concat(e),{}).then(this._getResponseData)}},{key:"getAlbum",value:function(e){return fetch("".concat(this._baseUrl,"albums/").concat(e),{}).then(this._getResponseData)}},{key:"getPhotos",value:function(e){return fetch("".concat(this._baseUrl,"photos?albumId=").concat(e),{}).then(this._getResponseData)}}]),e}()),b=(c(26),c(0));var m=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){j.getUsers().then(s).catch((function(e){return console.error(e.message)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"users__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(b.jsx)("ul",{className:"users__list",children:c.map((function(e){return Object(b.jsx)("li",{className:"users__item",children:Object(b.jsx)(l.b,{className:"users__link",to:"user/".concat(e.id),children:e.name},e.id)})}))})]})};c(33);var p=function(e){var t=e.album,c=Object(n.useState)([{thumbnailUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAG1BMVEUiVuOWlpZqfrJNbsYwXtk/Zs9cdrx5hqmHjp9wLQ4jAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABAElEQVRoge3SMW+DMBiE4YsxJqMJtHOTITPeOsLQnaodGImEUMZEkZhRUqn92f0MaTubtfeMh/QGHANEREREREREREREtIJJ0xbH299kp8l8FaGtLdTQ19HjofxZlJ0m1+eBKZcikd9PWtXC5DoDotRO04B9YOvFIXmXLy2jEbiqE6Df7DTleA5socLqvEFVxtJyrpZFWz/pHM2CVte0lS8g2eDe6prOyqPglhzROL+Xye4tmT4WvRcQ2/m81p+/rdguOi8Hc5L/8Qk4vhZzy08DduGt9eVQyP2qoTM1zi0/uf4hvBWf5c77e69Gf798y08L7j0RERERERERERH9P99ZpSVRivB/rgAAAABJRU5ErkJggg=="}]),s=Object(r.a)(c,2),a=s[0],i=s[1];return Object(n.useEffect)((function(){j.getPhotos(t.id).then(i).catch((function(e){return console.error(e.message)}))}),[]),Object(b.jsx)("li",{className:"albums-item",children:Object(b.jsxs)(l.b,{className:"albums-item__link",to:"../album/".concat(t.id),children:[Object(b.jsx)("h2",{className:"albums-item__title",children:t.title.length>43?t.title.slice(0,40)+"...":t.title}),Object(b.jsx)("img",{className:"albums-item__image",src:a[0].thumbnailUrl}),Object(b.jsxs)("p",{className:"albums-item__num",children:["\u0424\u043e\u0442\u043e \u0432 \u0430\u043b\u044c\u0431\u043e\u043c\u0435: ",a.length]})]})})};c(34);var O=function(e){var t=Object(n.useState)({}),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),u=o[0],h=o[1];return Object(n.useEffect)((function(){j.getUser(e.match.params.id).then(a).catch((function(e){return console.error(e.message)})),j.getAlbums(e.match.params.id).then(h).catch((function(e){return console.error(e.message)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.b,{to:"../",className:"back-link",children:"\u21d0 \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(b.jsxs)("h1",{className:"user__title",children:["\u0410\u043b\u044c\u0431\u043e\u043c\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",s.name]}),Object(b.jsx)("ul",{className:"user__list",children:u.map((function(e){return Object(b.jsx)(p,{album:e},e.id)}))})]})};c(35);var d=function(e){var t=e.photo,c=e.onPhotoClick,n=e.index;return Object(b.jsxs)("li",{className:"photos-item",children:[Object(b.jsx)("h2",{className:"photos-item__title",children:t.title.length>43?t.title.slice(0,40)+"...":t.title}),Object(b.jsx)("img",{src:t.thumbnailUrl,onClick:c.bind(null,t,n)})]})};c(36),c(37);var f=function(e){var t=e.isRight,c=e.onSwitchPhoto;return Object(b.jsx)("button",{className:"popup__switch ".concat(t?"popup__switch_right":"popup__switch_left"),onClick:c,children:t?Object(b.jsx)(b.Fragment,{children:"\ud83e\udc16"}):Object(b.jsx)(b.Fragment,{children:"\ud83e\udc14"})})};var _=function(e){var t=e.photo,c=e.onClose,s=e.isOpen,a=e.onSwitchPhoto,i=e.photosSize,o=e.index;return Object(n.useEffect)((function(){if(t){var e=function(e){"Escape"===e.key&&c()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}}),[t,c]),Object(b.jsx)("section",{className:"popup ".concat(s?"popup_show":""),onClick:function(e){return e.target.classList.contains("popup")&&c()},children:Object(b.jsxs)("div",{className:"popup__container",children:[Object(b.jsx)("img",{src:t?t.url:"#",alt:"\u0424\u043e\u0442\u043e",className:"popup__image"}),Object(b.jsx)("h2",{className:"popup__image-title",children:s?t.title:""}),Object(b.jsx)("button",{className:"popup__close popup__close_image",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0444\u043e\u0442\u043e",onClick:c}),o<i-1&&Object(b.jsx)(f,{isRight:!0,onSwitchPhoto:a.bind(null,!0)}),o>0&&Object(b.jsx)(f,{isRight:!1,onSwitchPhoto:a.bind(null,!1)})]})})};c(38);var x=function(e){var t=Object(n.useState)({title:""}),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),u=o[0],h=o[1],m=Object(n.useState)({}),p=Object(r.a)(m,2),O=p[0],f=p[1],x=Object(n.useState)(!1),g=Object(r.a)(x,2),A=g[0],v=g[1],E=Object(n.useState)(0),N=Object(r.a)(E,2),k=N[0],R=N[1];Object(n.useEffect)((function(){j.getAlbum(e.match.params.id).then(a).catch((function(e){return console.error(e.message)})),j.getPhotos(e.match.params.id).then(h).catch((function(e){return console.error(e.message)}))}),[]);var y=function(e,t){f(e),v(!0),R(t)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.b,{to:"../user/".concat(s.userId),className:"back-link",children:"\u21d0 \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432"}),Object(b.jsx)("h1",{className:"album__title",children:s.title}),Object(b.jsx)("ul",{className:"album__list",children:u.map((function(e,t){return Object(b.jsx)(d,{photo:e,onPhotoClick:y,index:t},e.id)}))}),Object(b.jsx)(_,{photo:O,onClose:function(){v(!1),setTimeout((function(){f({})}),300)},isOpen:A,photosSize:u.length,index:k,onSwitchPhoto:function(e){f(u[e?k+1:k-1]),R(e?k+1:k-1)}})]})};c(39);var g=function(){return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("p",{className:"header__title",children:"\u0422\u0435\u0441\u0442\u043e\u0432\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0441\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044f \u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c Web developer"}),Object(b.jsx)("p",{className:"header__author",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u043b: \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0421\u043e\u0440\u043e\u043a\u0438\u043d"})]})};c(40);var A=function(){return Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsxs)("p",{className:"footer__hh",children:["\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 hh.ru:\u2002",Object(b.jsx)("a",{href:"https://spb.hh.ru/resume/9a7e85a9ff08a276560039ed1f32426c6c544f",className:"footer__link",children:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0421\u043e\u0440\u043e\u043a\u0438\u043d"})]}),Object(b.jsx)("p",{className:"footer__mail",children:"iHappyMarvin@yandex.ru"})]})};var v=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{}),Object(b.jsx)("div",{className:"main",children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/user/:id",component:O}),Object(b.jsx)(o.a,{exact:!0,path:"/album/:id",component:x}),Object(b.jsx)(o.a,{exact:!0,path:"/",component:m})]})}),Object(b.jsx)(A,{})]})};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(v,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e8e72bd0.chunk.js.map